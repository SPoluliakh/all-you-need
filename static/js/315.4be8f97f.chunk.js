"use strict";(self.webpackChunkhelper=self.webpackChunkhelper||[]).push([[315],{7315:function(n,e,t){t.r(e),t.d(e,{WeatherPage:function(){return M}});var r,i,o,a,c,s,u,l=t(885),d=t(2791),p=t(6731),f=t(3728),h=t(9126),m=t(168),x=t(7691),g=x.ZP.form(r||(r=(0,m.Z)(["\n  position: relative;\n"]))),b=x.ZP.input(i||(i=(0,m.Z)(["\n  padding: ","px ","px;\n\n  border-radius: ",";\n  font-size: ","px;\n  width: ","px;\n  border-top-left-radius: ",";\n  border-bottom-left-radius: ",";\n  border-top-right-radius: ",";\n  border-bottom-right-radius: ",";\n  ::placeholder {\n    font-family: -apple-system, BlinkMacSystemFont, Caveat, Segoe UI, Roboto,\n      Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue,\n      sans-serif;\n    font-size: ","px;\n  }\n"])),(function(n){return n.theme.space[2]}),(function(n){return n.theme.space[4]}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.fontSizes.m}),(function(n){return n.theme.space[8]}),(function(n){return n.theme.radii.sadVew}),(function(n){return n.theme.radii.sadVew}),(function(n){return n.theme.radii.sadVew}),(function(n){return n.theme.radii.sadVew}),(function(n){return n.theme.fontSizes.ml})),j=x.ZP.button(o||(o=(0,m.Z)(["\n  padding: ","px;\n  border: ",";\n  border-radius: ",";\n  background-color: transparent;\n  cursor: pointer;\n\n  color: ",";\n\n  position: absolute;\n  top: ",";\n  left: ",";\n  right: ",";\n\n  transition: scale 250ms linear;\n  :hover {\n    scale: 1.2;\n  }\n"])),(function(n){return n.theme.space[0]}),(function(n){return n.theme.borders.none}),(function(n){return n.theme.radii.normal}),(function(n){return n.theme.colors.headerBcg}),(function(){return"7px"}),(function(n){if("submit"===n.type)return"4px"}),(function(n){if("button"===n.type)return"7px"})),v=t(184),Z=function(n){var e=n.name,t=n.onChange,r=n.onSubmit,i=(0,p.lr)(),o=(0,l.Z)(i,2)[1],a=(0,d.useRef)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(g,{onSubmit:r,children:[(0,v.jsx)("label",{children:(0,v.jsx)(b,{ref:a,onChange:t,value:e,type:"text",placeholder:"Search city \ud83c\udf24 "})}),(0,v.jsx)(j,{type:"submit",children:(0,v.jsx)(f.Vph,{size:"24px"})}),(0,v.jsx)(j,{type:"button",onClick:function(){o({}),a.current.focus()},children:(0,v.jsx)(h.C7Q,{size:"24"})})]})})},w=t(5861),y=t(4687),S=t.n(y),P=t(2388),C="https://api.openweathermap.org/data/2.5/weather",k="b3ca09d4ba07492c8255e30aa5bcf2bb",z=function(){var n=(0,w.Z)(S().mark((function n(e){var t,r,i,o,a=arguments;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:"metric",r=new URLSearchParams({q:"".concat(e),units:"".concat(t),appid:"".concat(k)}),n.next=4,P.Z.get("".concat(C,"?").concat(r));case 4:return i=n.sent,o=i.data,n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),L=function(){var n=(0,w.Z)(S().mark((function n(e,t){var r,i,o,a,c=arguments;return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:"metric",i=new URLSearchParams({lat:"".concat(e),lon:"".concat(t),units:"".concat(r),appid:"".concat(k)}),n.next=4,P.Z.get("".concat(C,"?").concat(i));case 4:return o=n.sent,a=o.data,n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),V=x.ZP.h1(a||(a=(0,m.Z)(["\n  font-size: ","px;\n  margin-top: ","px;\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.fontSizes.xl}),(function(n){return n.theme.space[0]}),(function(n){return n.theme.space[3]})),F=x.ZP.div(c||(c=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),R=x.ZP.div(s||(s=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n"]))),U=x.ZP.p(u||(u=(0,m.Z)(["\n  font-size: ","px;\n"])),(function(n){return n.theme.fontSizes.ml})),D=function(){var n,e=(0,d.useState)(null),t=(0,l.Z)(e,2),r=t[0],i=t[1],o=(0,d.useState)("idle"),a=(0,l.Z)(o,2),c=a[0],s=a[1],u=(0,d.useState)(""),f=(0,l.Z)(u,2),h=f[0],m=f[1],x=(0,p.lr)(),g=(0,l.Z)(x,2),b=g[0],j=g[1],w=null!==(n=b.get("city"))&&void 0!==n?n:"";(0,d.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(n){var e=n.coords.latitude,t=n.coords.longitude;s("pending"),L(e,t).then((function(n){m(n),s("fulfilled")})).catch((function(n){s("rejected"),console.log(n)}))}),(function(n){var e=new Error(n.message);e.status=400,i(e)}))}),[]);return(0,v.jsxs)(F,{children:[(0,v.jsx)(V,{children:"Weather \ud83c\udf24"}),r&&(0,v.jsx)("h2",{children:"Please enable geolocation to automatically provide weather for your region"}),(0,v.jsx)(Z,{name:w,onChange:function(n){var e=n.target.value;j(""!==e?{city:e}:{})},onSubmit:function(n){n.preventDefault(),s("pending"),z(w).then((function(n){m(n),s("fulfilled")})).catch((function(n){s("rejected"),console.log(n)}))}}),"fulfilled"===c&&(0,v.jsxs)("div",{children:[(0,v.jsxs)(U,{children:["Location: ",h.name,", ",h.sys.country]}),(0,v.jsxs)(R,{children:[(0,v.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(h.weather[0].icon,"@2x.png"),alt:""}),(0,v.jsxs)(U,{children:["Tempreture: ",Math.round(h.main.temp)," \xb0C "]})]}),(0,v.jsxs)(U,{children:["Description: ",h.weather[0].description]}),(0,v.jsxs)(U,{children:["Feels_like:",Math.round(h.main.temp)," \xb0C"]}),(0,v.jsxs)(U,{children:["Wind speed: ",h.wind.speed," m/s"]}),(0,v.jsxs)(U,{children:["Pressure: ",h.main.pressure]}),(0,v.jsxs)(U,{children:["Latitude: ",h.coord.lat]}),(0,v.jsxs)(U,{children:["Longitude: ",h.coord.lon]})]})]})},M=function(){return(0,v.jsx)("section",{children:(0,v.jsx)(D,{})})}}}]);
//# sourceMappingURL=315.4be8f97f.chunk.js.map